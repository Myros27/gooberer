<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div id="missingRelics">
    </div>   
</body>
</html>

<script>
    var save;
    var settings;
    var parameters = {};

    let allRelics = [{"name":"excavator","color":"orange","icon":"mdi-excavator"},
                    {"name":"redCard","color":"red","icon":"mdi-cards"},
                    {"name":"briefcase","color":"#91A3B0","icon":"mdi-briefcase"},
                    {"name":"strangePlant","color":"pale-purple","icon":"mdi-sprout"},
                    {"name":"beneficialVirus","color":"pale-green","icon":"mdi-virus"},
                    {"name":"torch","color":"orange","icon":"mdi-torch"},
                    {"name":"purpleHeart","color":"purple","icon":"mdi-heart"},
                    {"name":"rottenLeaf","color":"brown","icon":"mdi-leaf"},
                    {"name":"stonepiercer","color":"cherry","icon":"mdi-screwdriver"},
                    {"name":"consolationPrize","color":"#d3d3d3","icon":"mdi-seal-variant"},
                    {"name":"prettyLamp","color":"light-blue","icon":"mdi-vanity-light"},
                    {"name":"chessboard","color":"grey","icon":"mdi-checkerboard","description":"UNOBTAINABLE"},
                    {"name":"iridiscentFlower","color":"pink","icon":"mdi-flower-pollen","description":"UNOBTAINABLE"},
                    {"name":"friendlyBat","color":"#A9A9A9","icon":"mdi-bat"},
                    {"name":"hammer","color":"brown","icon":"mdi-hammer"},
                    {"name":"aluminiumBrick","color":"blue-grey","icon":"mdi-wall"},
                    {"name":"copperBrick","color":"orange","icon":"mdi-wall"},
                    {"name":"aluminiumHeap","color":"blue-grey","icon":"mdi-dots-triangle"},
                    {"name":"bomb","color":"red","icon":"mdi-bomb"},
                    {"name":"copperHeap","color":"orange","icon":"mdi-dots-triangle"},
                    {"name":"radar","color":"#90EE90","icon":"mdi-radar"},
                    {"name":"press","color":"deep-purple","icon":"mdi-download"},
                    {"name":"cupboard","color":"brown","icon":"mdi-cupboard"},
                    {"name":"catalyst","color":"teal","icon":"mdi-flask"},
                    {"name":"jumprope","color":"brown","icon":"mdi-jump-rope"},
                    {"name":"bronzePickaxe","color":"amber","icon":"mdi-pickaxe"},
                    {"name":"oreShelf","color":"brown","icon":"mdi-window-closed"},
                    {"name":"coalBrick","color":"#A9A9A9","icon":"mdi-wall"},
                    {"name":"washingMachine","color":"skyblue","icon":"mdi-washing-machine"},
                    {"name":"openedGift","color":"blue","icon":"mdi-gift-open"},
                    {"name":"magnet","color":"red","icon":"mdi-magnet"},
                    {"name":"copperPickaxe","color":"orange","icon":"mdi-pickaxe"},
                    {"name":"tinBucket","color":"grey","icon":"mdi-pail"},
                    {"name":"honeyPot","color":"amber","icon":"mdi-pot"},
                    {"name":"mudBrick","color":"brown","icon":"mdi-wall"},
                    {"name":"sapling","color":"#90EE90","icon":"mdi-sprout"},
                    {"name":"keychain","color":"light-grey","icon":"mdi-key-chain"},
                    {"name":"treasureChest","color":"amber","icon":"mdi-treasure-chest"},
                    {"name":"screwdriver","color":"indigo","icon":"mdi-screwdriver"},
                    {"name":"rose","color":"red","icon":"mdi-flower"},
                    {"name":"goldenKey","color":"amber","icon":"mdi-key-chain"},
                    {"name":"supervisor","color":"indigo","icon":"mdi-account-tie"},
                    {"name":"globe","color":"green","icon":"mdi-globe-model"},
                    {"name":"forgottenShield","color":"pale-light-blue","icon":"mdi-shield-sun"},
                    {"name":"burningSkull","color":"orange-red","icon":"mdi-skull"},
                    {"name":"energyDrink","color":"yellow","icon":"mdi-bottle-soda"},
                    {"name":"luckyDice","color":"#90EE90","icon":"mdi-dice-6"},
                    {"name":"dumbbell","color":"indigo","icon":"mdi-dumbbell"},
                    {"name":"bandage","color":"#ffc0cb","icon":"mdi-bandage"},
                    {"name":"newBackpack","color":"pale-orange","icon":"mdi-bag-personal"},
                    {"name":"ultimateGuide","color":"brown","icon":"mdi-book-multiple"},
                    {"name":"crackedSafe","color":"#A9A9A9","icon":"mdi-safe-square"},
                    {"name":"goldenCarrot","color":"amber","icon":"mdi-carrot"},
                    {"name":"goldenApple","color":"amber","icon":"mdi-food-apple"},
                    {"name":"popcorn","color":"pale-yellow","icon":"mdi-popcorn"},
                    {"name":"roseQuartz","color":"#ffc0cb","icon":"mdi-crystal-ball"},
                    {"name":"goldenSeed","color":"amber","icon":"mdi-seed"},
                    {"name":"trellis","color":"brown","icon":"mdi-fence"},
                    {"name":"brickWall","color":"cherry","icon":"mdi-wall"},
                    {"name":"printer","color":"pale-light-blue","icon":"mdi-printer"},
                    {"name":"lightbulb","color":"pale-yellow","icon":"mdi-lightbulb"},
                    {"name":"oldTV","color":"brown","icon":"mdi-television-classic"},
                    {"name":"worryingMail","color":"red","icon":"mdi-email-alert"},
                    {"name":"redBalloon","color":"red","icon":"mdi-balloon"},
                    {"name":"sackOfGold","color":"amber","icon":"mdi-sack"},
                    {"name":"shredder","color":"pale-purple","icon":"mdi-shredder"},
                    {"name":"redprint","color":"red","icon":"mdi-script-text"},
                    {"name":"orangeBalloon","color":"orange","icon":"mdi-balloon"},
                    {"name":"creditCard","color":"pale-green","icon":"mdi-credit-card"},
                    {"name":"simpleCalculator","color":"pale-orange","icon":"mdi-calculator"},
                    {"name":"orangeprint","color":"orange","icon":"mdi-script-text"},
                    {"name":"yellowBalloon","color":"yellow","icon":"mdi-balloon"},
                    {"name":"fishbowl","color":"#91A3B0","icon":"mdi-fishbowl","description":"shapeComboTotal"},
                    {"name":"pencil","color":"#ff6961","icon":"mdi-lead-pencil","description":"shapeComboHighest"},
                    {"name":"smallBrush","color":"#ffc0cb","icon":"mdi-brush","description":"shapeComboTotal"},
                    {"name":"strangePills","color":"#ff6961","icon":"mdi-pill-multiple","description":"shapeComboTotal"},
                    {"name":"strangeScroll","color":"#A9A9A9","icon":"mdi-script-text","description":"highestTierIdea"},
                    {"name":"printingPress","color":"brown","icon":"mdi-arrow-collapse-vertical","description":"gallery_cash"},
                    {"name":"yellowprint","color":"yellow","icon":"mdi-script-text"},
                    {"name":"greenBalloon","color":"green","icon":"mdi-balloon"},
                    {"name":"#C04000Hanger","color":"#C04000","icon":"mdi-hanger","description":"canvasLevelTotal"},
                    {"name":"bedsheet","color":"#ff6961","icon":"mdi-bed-empty","description":"canvasLevelTotal"},
                    {"name":"imageAlbum","color":"orange-red","icon":"mdi-image-album"},
                    {"name":"greenprint","color":"green","icon":"mdi-script-text","description":"redDrumMax"},
                    {"name":"blueBalloon","color":"blue","icon":"mdi-balloon","description":"milestones"},
                    {"name":"blueprint","color":"blue","icon":"mdi-script-text","description":"gallery_redDrumMax"},
                    {"name":"purpleBalloon","color":"blue","icon":"mdi-balloon","description":"milestones"},
                    {"name":"tinfoilHat","color":"blue-grey","icon":"mdi-hat-fedora"},
                    {"name":"cupOfWater","color":"blue","icon":"mdi-cup-water"},
                    {"name":"combatStrategy","color":"pale-green","icon":"mdi-clipboard-list"},
                    {"name":"hundredDollarBill","color":"green","icon":"mdi-cash-100"},
                    {"name":"hotAirBalloon","color":"orange-red","icon":"mdi-airballoon"},
                    {"name":"largeClover","color":"#90EE90","icon":"mdi-clover","description":"Bingo"},
                    {"name":"eightBall","color":"#A9A9A9","icon":"mdi-billiards","description":"Bingo"},
                    {"name":"youngPig","color":"#ffc0cb","icon":"mdi-pig-variant","description":"WheelOfFortune"},
                    {"name":"silverHorseshoe","color":"#d3d3d3","icon":"mdi-horseshoe","description":"WheelOfFortune"},
                    {"name":"bronzeTools","color":"amber","icon":"mdi-tools"},
                    {"name":"minersHat","color":"yellow","icon":"mdi-hard-hat"},
                    {"name":"dictionary","color":"brown","icon":"mdi-book-alphabet"},
                    {"name":"expertTools","color":"cherry","icon":"mdi-toolbox"},
                    {"name":"bloodBag","color":"red","icon":"mdi-blood-bag","description":"BigEvents 115 Token"},
                    {"name":"geode","color":"indigo","icon":"mdi-circle-double","description":"Cinders 140 Token"},
                    {"name":"birthdayCake","color":"red","icon":"mdi-cake","description":"Cinders 180 Token"},
                    {"name":"colorfulFlower","color":"red-pink","icon":"mdi-flower","description":"Bloom 170 Token"},
                    {"name":"heatingBulb","color":"orange","icon":"mdi-lightbulb-on","description":"Bloom 200 Token"},
                    {"name":"trashCan","color":"#A9A9A9","icon":"mdi-trash-can","description":"WeatherChaos 130 Token"},
                    {"name":"suitcase","color":"dark-blue","icon":"mdi-bag-carry-on"},
                    {"name":"tropicalTent","color":"green","icon":"mdi-tent"},
                    {"name":"fruitBasket","color":"red","icon":"mdi-basket"},
                    {"name":"massiveGrain","color":"pale-yellow","icon":"mdi-barley","description":"NightHunt 170 Token"},
                    {"name":"enchantedBottle","color":"purple","icon":"mdi-flask-round-bottom","description":"Nighthunt 175 Token"},
                    {"name":"moneyGift","color":"green","icon":"mdi-gift","description":"Snowdown 155 Token"},
                    {"name":"frozenCarrot","color":"light-blue","icon":"mdi-carrot","description":"Snowdown 170 Token"}];
    
    /* for updates
    var array = []
    for (keys in store.state.relic.item){
      const currRelic = store.state.relic.item[keys]
      let toSave = {
    	  name: keys,
    	  color: currRelic.color,
    	  icon: currRelic.icon,
      }
      array.push(toSave)
    }
    */
    
    window.addEventListener('message', function(event) {
        let receivedData = JSON.parse(atob(event.data));
        if (receivedData.action !== 'initData' || receivedData.action === 'jsException') {
            return;
        }
        save = receivedData.save;
        settings = receivedData.settings;
        feature();
    });

    function feature(){
        const difference = allRelics.filter(item => !save.relic.includes(item.name));
        const rootElement = document.getElementById("missingRelics")
        difference.forEach(elem => {
            const div = document.createElement("div");
            const iconContainer = document.createElement("span");
            const nameContainer = document.createElement("p");
            div.style.backgroundColor = elem.color;
            div.style.padding = "1rem";
            div.style.borderStyle = "solid";
            div.style.borderColor = "#333";
            nameContainer.innerText = elem.name;
            nameContainer.style.padding = "0";
            nameContainer.style.textShadow = "2px 2px 4px rgba(0, 0, 0, 1)";
            nameContainer.style.display = "flex";
            nameContainer.style.alignItems = "center";
            nameContainer.style.justifyContent = "center";
            iconContainer.style.fontSize = "2rem";
            iconContainer.style.textShadow = "2px 2px 4px rgba(0, 0, 0, 1)";
            iconContainer.style.display = "flex";
            iconContainer.style.alignItems = "center";
            iconContainer.style.justifyContent = "center";
            iconContainer.classList.add("mdi");
            iconContainer.classList.add(elem.icon);
            div.appendChild(iconContainer);
            div.appendChild(nameContainer);
            if ( elem.description !== undefined){
                const descriptionContainer = document.createElement("p");
                descriptionContainer.style.display = "flex";
                descriptionContainer.style.alignItems = "center";
                descriptionContainer.style.justifyContent = "center";
                descriptionContainer.innerText = elem.description;
                descriptionContainer.style.fontSize = "12px";
                descriptionContainer.style.padding = "0";
                descriptionContainer.style.textShadow = "2px 2px 4px rgba(0, 0, 0, 0.5)";
                div.appendChild(descriptionContainer);
            }
            rootElement.appendChild(div);
        });
    }
    
</script>
<link rel="stylesheet" href="https://myros27.github.io/gooberer/1.5/utils/icons/css/materialdesignicons.css">
<link rel="stylesheet" href="https://myros27.github.io/gooberer/1.5/menu/menu.css">
<style>
    #missingRelics {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

</style>